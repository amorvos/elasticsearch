---
"Test put settings":
  - do:
      cluster.put_settings:
        body:
          transient:
            indices.recovery.compress: true
        flat_settings: true

  - match: {transient: {indices.recovery.compress: "true"}}

  - do:
      cluster.get_settings:
        flat_settings: true

  - match: {transient: {indices.recovery.compress: "true"}}

  - do:
      cluster.put_settings:
        body:
          transient:
            indices.recovery.compress: null
        flat_settings: true

  - match: {transient: {}}

  - do:
      cluster.get_settings:
        flat_settings: true

  - match: {transient: {}}
